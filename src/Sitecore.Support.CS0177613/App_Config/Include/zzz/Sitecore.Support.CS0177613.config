<configuration xmlns:patch="http://www.sitecore.net/xmlconfig/" xmlns:set="http://www.sitecore.net/xmlconfig/set/" xmlns:role="http://www.sitecore.net/xmlconfig/role/" xmlns:eds="http://www.sitecore.net/xmlconfig/eds/" xmlns:exmEnabled="http://www.sitecore.net/xmlconfig/exmEnabled/">
    <sitecore exmEnabled:require="yes" role:require="Standalone or ContentManagement or DedicatedDispatch" eds:require="EmailCloud">
        <exm>
            <eds>
                <dispatchProvider>
                    <patch:attribute name="defaultProvider" value="customProvider" />
                    <providers>
                        <add name="customProvider" type="Sitecore.Support.EDS.Providers.SparkPost.Dispatch.DispatchProvider, Sitecore.Support.CS0177613">
                            <param ref="exm/eds/connectionPoolManager" />
                            <param ref="exm/eds/environmentIdentifier" />
                            <param ref="exm/eds/configurationStore" />
                            <param desc="returnPath">bounce@spe.sitecoremail.com</param>
                            <param desc="maxTries">3</param>
                            <param desc="delay">1000</param>
                        </add>
                    </providers>
                </dispatchProvider>
                <connectionPool type="Sitecore.EDS.Core.Net.Smtp.ChilkatConnectionPool, Sitecore.EDS.Core" set:type="Sitecore.Support.EDS.Core.Net.Smtp.ChilkatConnectionPool, Sitecore.Support.CS0177613"/>
            </eds>
        </exm>
    </sitecore>
</configuration>